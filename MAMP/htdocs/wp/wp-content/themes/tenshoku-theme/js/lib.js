$(function(){jQuery.easing.quart=function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;};jQuery('a[href*=#]').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var $target=jQuery(this.hash);$target=$target.length&&$target||jQuery('[name='+this.hash.slice(1)+']');if($target.length){var targetOffset=$target.offset().top;jQuery('html,body').animate({scrollTop:targetOffset},1200,'quart');return false;}}});set_copyright_year('#copyright .year');$('#home ul#gnavi li:last-child').addClass('lastchild');$('#home .sec_category:last-child').addClass('lastchild');$("#home .sec_category .box .photo img").each(function(){resize_photo(this,90,90);});$("#search .box .photo a.main_photo img").each(function(){resize_photo(this,157,157);});resize_photo("#mansion #photos .main_photo img",430,430);$("#mansion #photos .thumbnails a img").each(function(){resize_photo(this,68,68);});$("#mansion #photos .thumbnails a img").click(function(){uri=$(this).attr("src").replace(/=128/g,"=628");$main_photo=$("#mansion #photos .main_photo img");if($main_photo.attr('src')==uri){return;}$main_photo.attr("src",uri);resize_photo("#mansion #photos .main_photo img",430,430);});resize_photo("#room #photos .main_photo img",430,430);resize_photo("#room #floorplan .box img",260,260);$("#room #photos .thumbnails a img").each(function(){resize_photo(this,68,68);});$("#room #photos .thumbnails a img").click(function(){uri=$(this).attr("src").replace(/=128/g,"=628");$main_photo=$("#room #photos .main_photo img");if($main_photo.attr('src')==uri){return;}$main_photo.attr("src",uri);resize_photo("#room #photos .main_photo img",430,430);});});function resize_photo(selector,min_w,min_h){$(selector).hide();$(selector).load(function(){img=getActualDimension(document.getElementById($(this).attr('id')));if(img.width>=img.height){$(this).height('auto');$(this).width(min_w);valign_center(selector,$(this).height(),min_h);}else if(img.width<img.height){$(this).width('auto');$(this).height(min_h);align_center(selector,$(this).width(),min_w);}$(this).fadeIn('slow');});}function valign_center(selector,h,min_h){margin=(min_h-h)/2;$(selector).css('top',margin);$(selector).css('left',0);}function align_center(selector,w,min_w){margin=(min_w-w)/2;$(selector).css('top',0);$(selector).css('left',margin);}function href(uri){window.location.href=uri;}function set_copyright_year(selector){var dd=new Date();var y=dd.getFullYear();$(selector).html(y);}function getActualDimension(image){var run,mem,w,h,key="actual";if("naturalWidth"in image){return{width:image.naturalWidth,height:image.naturalHeight};}if("src"in image){if(image[key]&&image[key].src===image.src){return image[key];}if(document.uniqueID){w=$(image).css("width");h=$(image).css("height");}else{mem={w:image.width,h:image.height};$(this).removeAttr("width").removeAttr("height").css({width:"",height:""});w=image.width;h=image.height;image.width=mem.w;image.height=mem.h;}return image[key]={width:w,height:h,src:image.src};}return{width:image.width,height:image.height};}